<div>

	<c-header></c-header>
	<c-aside></c-aside>

	<div class="d-flex flex-column flex-root">
		<div class="page d-flex flex-row flex-column-fluid">

			<div class="wrapper d-flex flex-column flex-row-fluid">
				<div class="content d-flex flex-column flex-column-fluid">
				
						<div class="container-xxl">

							<div class="card mb-5 mb-xl-10">
								<div class="card-header border-0 cursor-pointer">
									<div class="card-title m-0">
										<h3 class="fw-bolder m-0">Novo Plano Digital </h3>
									</div>
								</div>
									<div class="card-body border-top p-9">
										<div class="d-flex flex-wrap align-items-center mb-10">
											<div class="flex-row-fluid ">
												<form class="form" @submit.prevent="addPlanos" novalidate="novalidate">
													<div class="row mb-1">

														<div class="col-lg-12">
															<div class="fv-row mb-5">
																<label for="Valor"
																	class="form-label fs-6 fw-bolder mb-3 required">Valor</label>
																<input type="text" v-model.trin="$v.price.$model" @input="money"
																	placeholder="00,00"
																	:class=" {'is-invalid':$v.price.$error, 'is-valid':!$v.price.$invalid }"
																	class="form-control form-control-lg form-control-solid">

																<div class="erros" v-if="$v.price.$error">
																	<div class="erro_texte" v-if="!$v.price.required">
																		Valor
																		é necessária</div>
																	<div class="erro_texte" v-if="!$v.price.minLength">
																		adicione no minimo 2 numero.</div>
																</div>

																<div class="sucesso_texte" v-else>
																</div>
															</div>
														</div>

														<div class="col-lg-4">
															<div class="fv-row mb-5">
																<label for="institution"
																	class="form-label fs-6 fw-bolder mb-3 required">Instituicao
																	Maxima</label>
																<input v-model="institution" type="number"
																	v-model.trin="$v.institution.$model"
																	:class=" {'is-invalid':$v.institution.$error, 'is-valid':!$v.institution.$invalid }"
																	class="form-control form-control-lg form-control-solid"
																	name="text_input" id="institution" />

																<div class="erro_texte" v-if="$v.institution.$error">
																	Número de instituições é necessária</div>
																<div class="sucesso_texte" v-else>
																</div>
															</div>
														</div>

														<div class="col-lg-4">
															<div class="fv-row mb-5">
																<label for="trial"
																	class="form-label fs-6 fw-bolder mb-3 required">Quantidade
																	de Disparos</label>
																<input type="number" v-model.trin="$v.trial.$model"
																	:class=" {'is-invalid':$v.trial.$error, 'is-valid':!$v.trial.$invalid }"
																	class="form-control form-control-lg form-control-solid"
																	name="text_input" id="trial" />

																<div class="erro_texte" v-if="$v.trial.$error">
																	Quantidade de disparos é necessária</div>
																<div class="sucesso_texte" v-else>
																</div>
															</div>
														</div>
														<div class="col-lg-4">
															<div class="fv-row mb-5">
																<label for="subadm"
																	class="form-label fs-6 fw-bolder mb-3 required">Quantidade
																	de Usuarios</label>
																<input v-model="subadm" type="number"
																	class="form-control form-control-lg form-control-solid"
																	name="text_input" id="subadm" />

															</div>
														</div>

														<div class="col-lg-6">
															<div class="fv-row mb-5">
																<label for="coupon"
																	class="form-label fs-6 fw-bolder mb-3 required">Código
																	Cupom</label>
																<input v-model="coupon" type="text"
																	v-model.trin="$v.coupon.$model"
																	:class=" {'is-invalid':$v.coupon.$error, 'is-valid':!$v.coupon.$invalid }"
																	class="form-control form-control-lg form-control-solid"
																	name="text_input" id="coupon" />

																<div class="erro_texte" v-if="$v.coupon.$error">
																	Código Cupom é necessária</div>
																<div class="sucesso_texte" v-else>
																</div>
															</div>
														</div>



														<div class="col-lg-6">
															<div class="fv-row mb-5"> <label for="send_message"
																	class="form-label fs-6 fw-bolder mb-3 required">Whatsapp</label>
																<select v-model="send_message" name="text_input"
																	class="form-select form-select-solid"
																	aria-label="Select example">
																	<option value="1">Sim</option>
																	<option value="0">Não</option>
																</select>
															</div>
														</div>

													</div>

													<c-mensagem :msg="msg"></c-mensagem>

													<div class="d-flex">
														<button class="btn btn-primary" type=" submit"
															:disabled="submitStatus === 'PENDING'">SALVAR!</button>

													</div>
													<div>
														<p class="typo__p" v-if="submitStatus === 'OK'">

														</p>
														<p class="typo__p" v-if="submitStatus === 'ERROR'">

															Por favor, preencha o formulário corretamente.</p>
														<p class="typo__p" v-if="submitStatus === 'PENDING'">
															Plano Digital Criado
														</p>
													</div>
												</form>
											</div>
										</div>
									</div>
							
							</div>
						</div>
				
				</div>
			</div>
		</div>
	</div>
	<c-footer />
</div>