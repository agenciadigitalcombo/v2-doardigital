<div>
    <c-header></c-header>
    <c-aside></c-aside>
    <div class="d-flex flex-column flex-root">
        <div class="page d-flex flex-row flex-column-fluid">
            <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
                <div class="content d-flex flex-column flex-column-fluid" id="kt_content">
                    <div class="post d-flex flex-column-fluid" id="kt_post">
                        <div id="kt_content_container" class="container-xxl">
                            <div class="row g-5 g-xl-8">
                                <div class="row">
                                    <div class="col">
                                        <div class="card card-dashed flex-center min-w-175px my-3 p-6">
                                            <span class="fs-4 fw-bold text-success pb-1 px-2">Saldo Liberado</span>

                                            <span> {{saldo_liberado | form_valor}}</span></span>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card card-dashed flex-center min-w-175px my-3 p-6">
                                            <span class="fs-4 fw-bold text-info pb-1 px-2">Saldo á liberar</span>

                                            <span>{{saldo_a_liberar | form_valor}}</span></span>
                                        </div>
                                    </div>
                                    <div class="col" hidden>
                                        <div class="card card-dashed flex-center min-w-175px my-3 p-6">
                                            <span class="fs-4 fw-bold text-danger pb-1 px-2">Total Retirado</span>

                                            <span>{{total_retirado | form_valor}}</span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-5 g-xl-8 pt-5">
                                <div class="col-xl-6">
                                    <div class="card card-xl-stretch mb-xl-8">
                                        <div class="card-header align-items-center border-0 mt-4">
                                            <h3 class="card-title align-items-start flex-column">
                                                <span class="fw-bolder mb-2 text-dark">Solicitar Saque</span>
                                            </h3>

                                        </div>
                                        <div class="card-body pt-5">
                                            <form class="form" action="javascript:void(0)" @submit.prevent="solicitarSaque">
                                                <div class="py-10 px-lg-17">
                                                    <div class="mb-5">
                                                        <div class="fv-row">
                                                            <div class="btn-group w-100" data-kt-buttons="true"
                                                                data-kt-buttons-target="[data-kt-button]">
                                                                <label
                                                                    class="btn btn-outline-secondary text-muted text-hover-white text-active-white btn-outline btn-active-success"
                                                                    :class="{ active: totalActive }"
                                                                    data-kt-button="true">
                                                                    <input @click="total()" class="btn-check"
                                                                        type="radio" name="method" value="1" />

                                                                    Valor Total
                                                                </label>
                                                                <label
                                                                    class="btn btn-outline-secondary text-muted text-hover-white text-active-white btn-outline btn-active-success"
                                                                    :class="{ active: parcialActive }"
                                                                    data-kt-button="true">
                                                                    <!--begin::Input-->
                                                                    <input @click="parcial()" class="btn-check"
                                                                        type="radio" name="method" value="2" />

                                                                    Valor Parcial
                                                                </label>
                                                            </div>
                                                            <div class="mb-2 mt-10" v-if="jms">
                                                                <input type="text" v-model="amount" @input="masc_money"
                                                                    class="form-control form-control-solid" />
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer flex-center">
                                                    <span class="alert alert-warning" v-show="error"> {{error}} </span> <br>
                                                    <button type="submit" class="btn btn-primary">
                                                        <span class="indicator-label">
                                                            {{active ? "Solicitar Saque" : "Carregando..." }}                                                            
                                                        </span>
                                                    </button>
                                                    <div class="">
                                                        <div class="timeline-content fw-bolder text-gray-800 ps-3">
                                                            *Será cobrado o valor de
                                                            <a class="text-primary"> R$5,00 </a>
                                                            por saque
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xl-6">
                                    <div class="card card-xl-stretch mb-xl-8">

                                        <div class="card-header align-items-center border-0 mt-4">
                                            <h3 class="card-title align-items-start flex-column">
                                                <span class="fw-bolder mb-2 text-dark">Histórico</span>
                                            </h3>
                                        </div>
                                        <div class="card-body pt-5">
                                            <div class="timeline-label">
                                                <div class="timeline-item" v-for=" (item, indice ) in historico"
                                                    :key="item.id">
                                                    <div class="timeline-label fw-bolder text-gray-800 fs-6">
                                                        {{item.date | form_data }}
                                                    </div>
                                                    <div class="timeline-badge">
                                                        <i class="fa fa-genderless text-warning fs-1"></i>
                                                    </div>
                                                    <div class="timeline-content  text-gray-800 ps-3">
                                                        <b>{{item.type}}</b> 
                                                        <span class="text-primary fw-bolder">
                                                         {{item.value | form_valor}}
                                                        </span> <br>
                                                        <small class="timeline-content  text-gray-800 fs-6">
                                                            {{item.description  }}
                                                        </small>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <c-footer />
</div>